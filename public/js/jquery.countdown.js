!function(a){a.fn.countdown=function(b,c){function e(a,b){return function(){return b.call(a)}}var d=["seconds","minutes","hours","days","weeks","daysLeft"];return this.each(function(){function l(){if(0===f.closest("html").length)return n(),void m("removed");k--,k<0&&(k=0),h={seconds:k%60,minutes:Math.floor(k/60)%60,hours:Math.floor(k/60/60)%24,days:Math.floor(k/60/60/24),weeks:Math.floor(k/60/60/24/7),daysLeft:Math.floor(k/60/60/24)%7};for(var a=0;a<d.length;a++){var b=d[a];g[b]!=h[b]&&(g[b]=h[b],m(b))}0==k&&(n(),m("finished"))}function m(d){var e=a.Event(d);switch(e.date=new Date((new Date).valueOf()+k),e.value=g[d]||"0",e.toDate=b,e.lasting=h,d){case"seconds":case"minutes":case"hours":e.value=e.value<10?"0"+e.value.toString():e.value.toString();break;default:e.value&&(e.value=e.value.toString())}c.call(f,e)}function n(){clearInterval(i)}function o(){f.data("countdownInterval",setInterval(e(f,l),1e3)),i=f.data("countdownInterval")}if(!(b instanceof Date))if(String(b).match(/^[0-9]*$/))b=new Date(b);else if(b.match(/([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{2,4})\s([0-9]{1,2})\:([0-9]{2})\:([0-9]{2})/)||b.match(/([0-9]{2,4})\/([0-9]{1,2})\/([0-9]{1,2})\s([0-9]{1,2})\:([0-9]{2})\:([0-9]{2})/))b=new Date(b);else{if(!b.match(/([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{2,4})/)&&!b.match(/([0-9]{2,4})\/([0-9]{1,2})\/([0-9]{1,2})/))throw new Error("Doesn't seen to be a valid date object or string");b=new Date(b)}var f=a(this),g={},h={},i=f.data("countdownInterval"),j=new Date,k=Math.floor((b.valueOf()-j.valueOf())/1e3);l(),i&&n(),o()})}}(jQuery);